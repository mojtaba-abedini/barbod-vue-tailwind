<template>
  <Navbar title="نوع بار" />

  <div class="fixed w-full p-2 inset-x-0">
    <div
      class="inline-table mt-2 w-80 mx-auto bg-white shadow-lg rounded-xl p-2"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xml:space="preserve"
        width="3.9in"
        height="0.525362in"
        version="1.1"
        shape-rendering="geometricPrecision"
        text-rendering="geometricPrecision"
        image-rendering="optimizeQuality"
        fill-rule="evenodd"
        clip-rule="evenodd"
        viewBox="0 0 4670 525.36"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <defs>
          <clipPath id="id0">
            <rect
              x="9659.36"
              y="-57711.03"
              width="10945.33"
              height="11310.17"
            />
          </clipPath>
        </defs>
        <g id="Layer_x0020_1">
          <metadata id="CorelCorpID_0Corel-Layer" />
          <g clip-path="url(#id0)">
            <image
              x="9659.36"
              y="-57711.03"
              width="10945.33"
              height="11310.17"
              xlink:href="Step-two_Images\Step-two_ImgID1.png"
            />
          </g>
          <path
            fill="none"
            stroke="#252423"
            stroke-width="364.85"
            stroke-miterlimit="2.61313"
            d="M-13015.86 -54117.25l0 0c494.96,0 939.18,324.75 1232.55,765.37 412.24,619.2 363.68,1378.01 363.68,1815.87l0 2444.46 -1596.23 0 0 -5025.7z"
          />
          <path
            fill="none"
            stroke="#252423"
            stroke-width="364.85"
            stroke-miterlimit="2.61313"
            d="M-9823.39 -54117.25l0 0c-494.96,0 -939.18,324.75 -1232.55,765.37 -412.24,619.2 -363.68,1378.01 -363.68,1815.87l0 2444.46 1596.23 0 0 -5025.7z"
          />
          <path
            fill="none"
            stroke="#252423"
            stroke-width="364.85"
            stroke-miterlimit="2.61313"
            d="M-10620.63 -54117.25l0 0c-494.96,0 -939.18,324.75 -1232.55,765.37 -412.24,619.2 -363.68,1378.01 -363.68,1815.87l0 2444.46 1596.23 0 0 -5025.7z"
          />
          <path
            fill="none"
            stroke="#252423"
            stroke-width="364.85"
            stroke-miterlimit="2.61313"
            d="M-12218.63 -54117.25l0 0c494.96,0 939.18,324.75 1232.55,765.37 412.24,619.2 363.68,1378.01 363.68,1815.87l0 2444.46 -1596.23 0 0 -5025.7z"
          />
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M6855.57 -49291.89l0 382.77 -979.65 0 0 -2755.9c0,-118.05 -0.05,-125.14 -0.1,-130.65 -4.41,-493.02 -11.09,-1240.8 394.43,-1879.81 158.34,-249.51 357.84,-467.19 585.33,-624.2l0 484.77c-104.81,102.12 -199.63,220.82 -281.77,350.25 -344.6,543.01 -338.55,1219.78 -334.57,1665.99 0.79,87.58 1.53,98.46 1.53,133.65l0 2373.13 614.8 0zm616.58 0l-1.77 0 1.77 0zm-616.58 0l-616.57 0 616.57 0z"
            />
          </g>
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M7036.02 -51367.39c-3.56,697.19 1.98,1396.55 1.98,2093.42l-1.98 -2093.42zm1.98 2458.27l-1961.09 0 0 -5390.56 182.43 0c272.44,0 530.15,84.69 760.91,227.99 243.34,151.1 456.3,368.33 623.42,619.34 89.05,133.75 158.22,272.51 211.9,412.58 53.68,-140.07 122.86,-278.83 211.9,-412.58 167.12,-251.01 380.08,-468.24 623.42,-619.34 230.77,-143.3 488.48,-227.99 760.91,-227.99l182.43 0 0 5390.56 -1596.23 0zm-364.85 -364.85c0,-702.96 5.63,-1408.45 1.88,-2111.69l-1.88 2111.69zm-845.3 -4488.45c-121,-75.14 -250.78,-128.96 -386.08,-154.9l0 4643.35 1231.38 0c0,-837.73 0.12,-1675.3 2.41,-2513.01 1.21,-420.15 -22.77,-994.77 -335.45,-1464.42 -138.85,-208.54 -313.94,-387.88 -512.26,-511.02zm2441.53 -154.9c-135.3,25.94 -265.08,79.76 -386.08,154.9 -198.32,123.15 -373.42,302.48 -512.26,511.02 -308.18,462.89 -335.9,1027.74 -335.48,1446.18 0.82,843.73 2.45,1687.46 2.45,2531.24l1231.38 0 0 -4643.35z"
            />
          </g>
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M6855.57 -49291.89l0 382.77 979.65 0 0 -2755.9c0,-118.05 0.05,-125.14 0.1,-130.65 4.41,-493.02 11.09,-1240.8 -394.43,-1879.81 -158.34,-249.51 -357.84,-467.19 -585.33,-624.2l0 484.77c104.81,102.12 199.63,220.82 281.77,350.25 344.6,543.01 338.55,1219.78 334.57,1665.99 -0.79,87.58 -1.53,98.46 -1.53,133.65l0 2373.13 -614.8 0zm-616.58 0l1.77 0 -1.77 0zm616.58 0l616.57 0 -616.57 0z"
            />
          </g>
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M36999.37 -49291.89l0 382.77 -979.65 0 0 -2755.9c0,-118.05 -0.05,-125.14 -0.1,-130.65 -4.41,-493.02 -11.09,-1240.8 394.43,-1879.81 158.34,-249.51 357.84,-467.19 585.33,-624.2l0 484.77c-104.81,102.12 -199.63,220.82 -281.77,350.25 -344.6,543.01 -338.55,1219.78 -334.57,1665.99 0.79,87.58 1.53,98.46 1.53,133.65l0 2373.13 614.8 0zm616.58 0l-1.77 0 1.77 0zm-616.58 0l-616.57 0 616.57 0z"
            />
          </g>
          <path
            fill="#FEFEFE"
            fill-rule="nonzero"
            d="M36565.15 -53511.51c-20.86,-26.59 -42.28,-52.61 -64.24,-78.02 20.42,3.29 40.93,5.03 61.38,5.3 0.52,25.8 1.41,50.63 2.86,72.72zm-3.93 766.26c-46.26,-149.58 -110.41,-293.11 -198.74,-425.78 -86.05,-129.24 -188.73,-249.35 -307.19,-350.06 -1.94,-12.28 -4.41,-24.5 -7.52,-36.61l-55.6 -242.74 235.05 94.96c35.63,23.28 74.41,43.65 115.53,55.36 1.87,1.2 4.24,2.32 5.78,3.85 101.51,101.27 193.3,215.7 271.01,336.21l5.07 15.1c32.01,66.45 25.31,89.76 80.29,163.35 11.29,15.11 22.48,86.35 87.91,164.78 20.49,53.21 38.7,107.1 54.86,161.54 -98.48,-12.04 -200.53,8.32 -286.46,60.04z"
          />
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M37179.81 -51367.39c-3.56,697.19 1.98,1396.55 1.98,2093.42l-1.98 -2093.42zm1.98 2458.27l-1961.09 0 0 -5390.56 182.43 0c272.44,0 530.15,84.69 760.91,227.99 243.34,151.1 456.3,368.33 623.42,619.34 89.05,133.75 158.22,272.51 211.9,412.58 53.68,-140.07 122.86,-278.83 211.9,-412.58 167.12,-251.01 380.08,-468.24 623.42,-619.34 230.77,-143.3 488.48,-227.99 760.91,-227.99l182.43 0 0 5390.56 -1596.23 0zm-364.85 -364.85c0,-702.96 5.63,-1408.45 1.88,-2111.69l-1.88 2111.69zm-845.3 -4488.45c-121,-75.14 -250.78,-128.96 -386.08,-154.9l0 4643.35 1231.38 0c0,-837.73 0.12,-1675.3 2.41,-2513.01 1.21,-420.15 -22.77,-994.77 -335.45,-1464.42 -138.85,-208.54 -313.94,-387.88 -512.26,-511.02zm2441.53 -154.9c-135.3,25.94 -265.08,79.76 -386.08,154.9 -198.32,123.15 -373.42,302.48 -512.26,511.02 -308.18,462.89 -335.9,1027.74 -335.48,1446.18 0.82,843.73 2.45,1687.46 2.45,2531.24l1231.38 0 0 -4643.35z"
            />
          </g>
          <path
            fill="#FEFEFE"
            fill-rule="nonzero"
            d="M37714.19 -53023.08c-55.45,-195.54 -135.93,-390.41 -252.63,-574.3 -40.93,-64.51 -84.57,-126.54 -130.65,-185.54 10.27,5.98 19.83,11.23 31.21,19.51l88.4 73.14c46.28,34.6 47.65,57.72 79.31,104.59 51.97,76.94 35.11,69.68 71.3,136.35 12.04,22.18 17.64,73.46 56.14,136.9l85.25 269.83 -28.33 19.52zm-324.84 204.7c-46.53,-196.49 -118.95,-391.05 -231.35,-568.17 -21.34,-33.63 -43.32,-66.14 -65.86,-97.45 35.93,-54.28 62.31,-106.54 74.26,-173.35 28.19,-55.12 28.68,-103.22 54.26,-133.94 66.95,78.17 128.48,161.67 183.6,248.55 113.87,179.44 191.81,370.84 245.05,563.35l-99.3 57.76c-63.02,30.01 -108.4,60.85 -160.67,103.26z"
          />
          <g>
            <path
              fill="#2B2A29"
              fill-rule="nonzero"
              d="M36999.37 -49291.89l0 382.77 979.65 0 0 -2755.9c0,-118.05 0.05,-125.14 0.1,-130.65 4.41,-493.02 11.09,-1240.8 -394.43,-1879.81 -158.34,-249.51 -357.84,-467.19 -585.33,-624.2l0 484.77c104.81,102.12 199.63,220.82 281.77,350.25 344.6,543.01 338.55,1219.78 334.57,1665.99 -0.79,87.58 -1.53,98.46 -1.53,133.65l0 2373.13 -614.8 0zm-616.58 0l1.77 0 -1.77 0zm616.58 0l616.57 0 -616.57 0z"
            />
          </g>
          <path
            fill="#FFED00"
            d="M39565.26 -50186.49c-1030.59,-328.82 -1776.95,-1294.13 -1776.95,-2433.75l0 -2458.3 3553.91 -17.24 0 2475.54c0,1139.62 -746.37,2104.92 -1776.96,2433.75z"
          />
          <path
            fill="#2B2A29"
            fill-rule="nonzero"
            stroke="#2B2A29"
            stroke-width="12.16"
            stroke-miterlimit="2.61313"
            d="M48768.12 -48909.12l0 -5390.56 182.43 0c272.44,0 530.15,84.69 760.91,227.99 243.34,151.1 456.3,368.33 623.42,619.34 89.05,133.75 158.22,272.51 211.9,412.58 43.73,-114.09 97.73,-227.31 164.38,-337.66 84.8,135.72 146.42,281.46 191.14,430.32 -158.65,390.45 -175.87,811.75 -175.54,1141.9 0.82,843.73 2.45,1687.46 2.45,2531.24l1231.38 0 0 -4643.35c-135.3,25.94 -265.08,79.76 -386.08,154.9 -151.19,93.88 -288.87,220.41 -407.3,367.65 -47.35,-109.58 -108.05,-218.09 -202.74,-323.18 124.77,-138.55 265.25,-259.11 417.63,-353.73 230.77,-143.3 488.48,-227.99 760.91,-227.99l182.43 0 0 5390.56 -3557.32 0zm388.94 -5020l-24.08 4655.15 1231.38 0c0,-837.73 0.12,-1675.3 2.41,-2513.01 1.21,-420.15 -22.77,-994.77 -335.45,-1464.42 -206.97,-310.85 -521.65,-593.69 -874.26,-677.72z"
          />
          <path
            fill="#2B2A29"
            fill-rule="nonzero"
            d="M51526.43 -48909.12l0 -2755.9c0,-118.05 0.05,-125.14 0.1,-130.65 4.41,-493.02 11.09,-1240.8 -394.43,-1879.81 -158.34,-249.51 -357.84,-467.19 -585.33,-624.2 -227.48,157.01 -426.98,374.69 -585.33,624.2 -12.44,19.61 -24.49,39.32 -36.17,59.12 89.9,93.67 171.53,197.51 241.68,306.3l4.38 13.02c27.92,-56.97 59,-112.98 93.67,-167.62 82.14,-129.43 176.96,-248.13 281.77,-350.25 104.81,102.12 199.63,220.82 281.77,350.25 344.6,543.01 338.55,1219.78 334.57,1665.99 -0.79,87.58 -1.53,98.46 -1.53,133.65l0 2373.13 -614.8 0 -614.8 0 0 -2373.13c0,-35.18 -0.74,-46.06 -1.53,-133.65 -2.76,-309.46 -6.48,-729.82 106.43,-1139.55 -35.45,-80.45 -77.41,-158.35 -126.99,-232.81 -38.07,-57.17 -79.39,-112.56 -123.89,-165.27 -227.81,550.69 -222.62,1132.81 -218.98,1540.61 0.05,5.52 0.1,12.6 0.1,130.65l0 2755.9 1959.31 0z"
          />
          <circle
            fill="#2564EB"
            stroke="#2564EB"
            stroke-width="24.32"
            stroke-miterlimit="2.61313"
            cx="4360.04"
            cy="262.68"
            r="69.8"
          />
          <circle
            fill="none"
            stroke="#2564EB"
            stroke-width="24.32"
            stroke-miterlimit="2.61313"
            cx="2335.01"
            cy="262.68"
            r="69.8"
          />
          <circle
            fill="none"
            stroke="#B2B3B3"
            stroke-width="24.32"
            stroke-miterlimit="2.61313"
            cx="309.96"
            cy="262.68"
            r="69.8"
          />
          <line
            fill="none"
            stroke="#2564EB"
            stroke-width="12.16"
            stroke-miterlimit="2.61313"
            x1="2482.09"
            y1="262.67"
            x2="4223"
            y2="262.67"
          />
          <line
            fill="none"
            stroke="#B2B3B3"
            stroke-width="12.16"
            stroke-miterlimit="2.61313"
            stroke-dasharray="12.162248 60.811242"
            x1="475.4"
            y1="262.67"
            x2="2216.31"
            y2="262.67"
          />
        </g>
      </svg>
    </div>
  </div>

  <div class="w-80 mx-auto h-full mt-20 pt-5 mb-20">
    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="loadType"
      >
        نوع بار
      </label>
      <InputText
        type="text"
        @childData="saveToStore('loadType', $event)"
        id="loadType"
      />
      <p
        v-if="loadTypeAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        نوع بار را مشخص کنید *
      </p>
    </div>

    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="packageType"
      >
        نوع بسته بندی
      </label>
      <InputText
        type="text"
        @childData="saveToStore('packageType', $event)"
        id="packageType"
      />
      <p
        v-if="packageTypeAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        نوع بسته بندی را مشخص کنید *
      </p>
    </div>

    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="weight"
      >
        وزن بار
      </label>
      <InputText
        type="text"
        @childData="saveToStore('weight', $event)"
        id="weight"
      />
      <p
        v-if="weightAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        وزن بار را مشخص کنید *
      </p>
    </div>
    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="fleetType"
      >
        نوع ناوگان
      </label>
      <SelectCar @childData="saveToStore('fleetType', $event)" id="fleetType" />
      <p
        v-if="fleetTypeAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        نوع ناوگان را انتخاب کنید *
      </p>
    </div>

    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="fleetProperty"
      >
        ویژگی ناوگان
      </label>
      <InputText
        type="text"
        @childData="saveToStore('fleetProperty', $event)"
        id="fleetProperty"
      />
      <p
        v-if="fleetPropertyAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        ویژگی ناوگان را مشخص کنید *
      </p>
    </div>

    <div class="mb-4">
      <label
        class="block text-gray-700 text-sm font-bold text-right"
        for="fleetNumber"
      >
        تعداد ناوگان
      </label>
      <InputText
        type="text"
        @childData="saveToStore('fleetNumber', $event)"
        id="fleetNumber"
      />
      <p
        v-if="fleetNumberAlert === true"
        class="text-right text-xs text-red-500 mt-2"
      >
        تعداد ناوگان را مشخص کنید *
      </p>
    </div>

    <Button
      title="مرحله بعد"
      v-on:click.prevent="validate"
      class="mt-8 mb-10"
    />
  </div>
  <BottomNavigation />
</template>


<script>
import Navbar from "../fields/Navbar.vue";
import BottomNavigation from "../fields/BottomNavigation.vue";
import Button from "../fields/Button.vue";
import InputText from "../fields/InputText.vue";
import SelectCar from "../fields/SelectCar.vue";
export default {
  data() {
    return {
      loadTypeAlert: false,
      packageTypeAlert: false,
      weightAlert: false,
      fleetTypeAlert: false,
      fleetPropertyAlert: false,
      fleetNumberAlert: false,
    };
  },

  components: {
    Navbar,
    BottomNavigation,
    Button,
    InputText,
    SelectCar,
  },

  methods: {
    validate() {
      if (this.$store.state.loading.loadType === "") {
        this.loadTypeAlert = true;
        setTimeout(() => {
          this.loadTypeAlert = false;
        }, 1800);
      } else if (this.$store.state.loading.packageType === "") {
        this.packageTypeAlert = true;
        setTimeout(() => {
          this.packageTypeAlert = false;
        }, 1800);
      } else if (this.$store.state.loading.weight === "") {
        this.weightAlert = true;
        setTimeout(() => {
          this.weightAlert = false;
        }, 1800);
      } else if (
        this.$store.state.loading.fleetType === "" ||
        this.$store.state.loading.fleetType === "ناوگان مورد نظر را انتخاب کنید"
      ) {
        this.fleetTypeAlert = true;
        setTimeout(() => {
          this.fleetTypeAlert = false;
        }, 1800);
      } else if (this.$store.state.loading.fleetProperty === "") {
        this.fleetPropertyAlert = true;
        setTimeout(() => {
          this.fleetPropertyAlert = false;
        }, 1800);
      } else if (this.$store.state.loading.fleetNumber === "") {
        this.fleetNumberAlert = true;
        setTimeout(() => {
          this.fleetNumberAlert = false;
        }, 1800);
      } else {
        this.$router.push("/owner/new-order/step-three");
      }
    },

    saveToStore(input, event) {
      if (input === "loadType") this.$store.state.loading.loadType = event;
      if (input === "packageType")
        this.$store.state.loading.packageType = event;
      if (input === "weight") this.$store.state.loading.weight = event;
      if (input === "fleetType") this.$store.state.loading.fleetType = event;
      if (input === "fleetProperty")
        this.$store.state.loading.fleetProperty = event;
      if (input === "fleetNumber")
        this.$store.state.loading.fleetNumber = event;
    },
  },
};
</script>

<style>
</style>